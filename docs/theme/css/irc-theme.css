/* ═══════════════════════════════════════════════════════════════
 *  signal-tui docs — mIRC theme
 *  Light 90s IRC aesthetic (mIRC / Win95 era) with modern polish.
 *  Overrides ALL mdBook themes — we force a single look.
 * ═══════════════════════════════════════════════════════════════ */

@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap');

/* ── palette ───────────────────────────────────────────── */
:root {
    --irc-bg:         #eeeeee;
    --irc-bg-alt:     #e4e4e4;
    --irc-sidebar-bg: #d6d6d6;
    --irc-code-bg:    #dcdcdc;
    --irc-panel-bg:   #c8c8c8;

    --irc-text:       #111111;
    --irc-text-dim:   #555555;
    --irc-text-light: #777777;

    /* classic mIRC nick palette */
    --irc-blue:       #0000cc;
    --irc-green:      #007700;
    --irc-red:        #cc0000;
    --irc-brown:      #7b5804;
    --irc-purple:     #7700aa;
    --irc-teal:       #008080;
    --irc-navy:       #000077;
    --irc-magenta:    #cc00cc;

    /* UI borders — Win95-style bevels */
    --bevel-light:    #ffffff;
    --bevel-dark:     #808080;
    --bevel-shadow:   #404040;
    --border-mid:     #aaaaaa;

    --link-blue:      #0000ee;
    --link-visited:   #551a8b;
}

/* ── force our theme on ALL mdBook theme classes ───────── */
.coal, .light, .ayu, .navy, .rust,
html:not(.js) {
    --bg:                 var(--irc-bg);
    --fg:                 var(--irc-text);
    --sidebar-bg:         var(--irc-sidebar-bg);
    --sidebar-fg:         var(--irc-text);
    --sidebar-active:     var(--irc-blue);
    --sidebar-non-existant: var(--irc-text-light);
    --sidebar-spacer:     var(--border-mid);
    --links:              var(--link-blue);
    --inline-code-color:  var(--irc-teal);
    --theme-popup-bg:     var(--irc-bg);
    --theme-popup-border: var(--border-mid);
    --theme-hover:        var(--irc-bg-alt);
    --icons:              var(--irc-text-dim);
    --icons-hover:        var(--irc-text);
    --scrollbar:          var(--border-mid);
    --quote-bg:           var(--irc-bg-alt);
    --quote-border:       var(--border-mid);
    --table-border-color: var(--border-mid);
    --table-header-bg:    var(--irc-panel-bg);
    --table-alternate-bg: #e8e8e8;
    --searchbar-border-color: var(--border-mid);
    --searchbar-bg:       #ffffff;
    --searchbar-fg:       var(--irc-text);
    --searchbar-shadow-color: var(--bevel-dark);
    --searchresults-header-fg: var(--irc-text-dim);
    --searchresults-border-color: var(--border-mid);
    --searchresults-li-bg: var(--irc-bg-alt);
    --search-mark-bg:     #ffff00;
    --warning-border:     #ff8e00;
    --color-scheme:       light;
    --sidebar-header-border-color: var(--irc-blue);

    --copy-button-filter: invert(45.49%);
    --copy-button-filter-hover: invert(14%) sepia(93%) saturate(4250%) hue-rotate(243deg) brightness(99%) contrast(130%);
    --overlay-bg: rgba(200, 200, 205, 0.5);
}

/* ── hide theme picker & hamburger ─────────────────────── */
#mdbook-theme-toggle,
#mdbook-theme-list {
    display: none !important;
}

/* ── global typography ─────────────────────────────────── */
body,
.content,
.sidebar,
code,
pre,
pre > code,
input,
textarea {
    font-family: 'IBM Plex Mono', 'Cascadia Code', 'Consolas', 'Courier New', monospace !important;
}

html {
    background-color: var(--irc-bg) !important;
}

body {
    color: var(--irc-text);
    font-size: 14px;
    line-height: 1.7;
}

/* ═══════════════════════════════════════════════════════════
 *  MENU BAR — styled as IRC status/title bar
 * ═══════════════════════════════════════════════════════════ */
#mdbook-menu-bar,
#mdbook-menu-bar.bordered {
    background-color: var(--irc-panel-bg) !important;
    border-bottom: 2px solid var(--bevel-dark) !important;
    border-top: 1px solid var(--bevel-light) !important;
}

.menu-bar .icon-button {
    color: var(--irc-text-dim);
}

.menu-bar .icon-button:hover {
    color: var(--irc-text);
}

/* title in menu bar */
.menu-bar h1.menu-title {
    color: var(--irc-navy) !important;
    font-weight: 700;
    font-size: 0.9em;
    letter-spacing: 0.02em;
}

/* ═══════════════════════════════════════════════════════════
 *  SIDEBAR — IRC channel list
 * ═══════════════════════════════════════════════════════════ */
.sidebar {
    background-color: var(--irc-sidebar-bg) !important;
    border-right: 2px solid var(--bevel-dark);
}

.sidebar .sidebar-scrollbox {
    background-color: var(--irc-sidebar-bg) !important;
}

/* section headers = IRC network names */
.sidebar .chapter li.part-title {
    color: var(--irc-navy);
    text-transform: uppercase;
    font-size: 0.72em;
    font-weight: 700;
    letter-spacing: 0.1em;
    padding: 0.9em 0 0.35em 10px;
    margin-top: 0.3em;
    border-top: 1px solid var(--border-mid);
    border-bottom: 1px solid var(--border-mid);
    background-color: var(--irc-panel-bg);
}

/* chapter links */
.sidebar .chapter a {
    color: var(--irc-text);
    border-left: 3px solid transparent;
    padding: 0.25em 0.8em;
    display: block;
    transition: background-color 0.1s ease;
    font-size: 0.9em;
}

.sidebar .chapter a:hover {
    color: var(--irc-blue);
    background-color: var(--irc-bg-alt);
    border-left-color: var(--irc-blue);
}

.sidebar .chapter li.chapter-item.expanded > a,
.sidebar .chapter a.active {
    color: #ffffff;
    background-color: var(--irc-blue);
    border-left-color: var(--irc-blue);
    font-weight: 600;
}

/* resize handle */
.sidebar-resize-handle {
    border-right-color: var(--border-mid) !important;
}

/* ═══════════════════════════════════════════════════════════
 *  HEADINGS
 * ═══════════════════════════════════════════════════════════ */
.content h1 {
    color: var(--irc-navy);
    font-size: 1.5em;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    border-bottom: 2px solid var(--irc-navy);
    padding-bottom: 0.3em;
    margin-bottom: 0.8em;
}

.content h2 {
    color: var(--irc-green);
    font-size: 1.2em;
    font-weight: 700;
    border-bottom: 1px solid var(--border-mid);
    padding-bottom: 0.25em;
    margin-top: 1.8em;
}

.content h3 {
    color: var(--irc-brown);
    font-size: 1.05em;
    font-weight: 600;
}

.content h4 {
    color: var(--irc-purple);
    font-size: 0.95em;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.03em;
}

.content h5,
.content h6 {
    color: var(--irc-text-dim);
    font-weight: 600;
}

/* ═══════════════════════════════════════════════════════════
 *  LINKS — classic blue underline
 * ═══════════════════════════════════════════════════════════ */
.content a {
    color: var(--link-blue);
    text-decoration: underline;
}

.content a:visited {
    color: var(--link-visited);
}

.content a:hover {
    color: var(--irc-red);
}

/* header anchor links: no underline */
.content a.header {
    text-decoration: none;
    color: inherit;
}

.content a.header:hover {
    color: inherit;
    text-decoration: underline;
}

/* ═══════════════════════════════════════════════════════════
 *  INLINE CODE
 * ═══════════════════════════════════════════════════════════ */
.content code {
    color: var(--irc-teal);
    background-color: var(--irc-code-bg);
    border: 1px solid var(--border-mid);
    border-radius: 2px;
    padding: 0.1em 0.35em;
    font-size: 0.9em;
}

/* ═══════════════════════════════════════════════════════════
 *  CODE BLOCKS — Win95 sunken panel + title bar
 * ═══════════════════════════════════════════════════════════ */
.content pre {
    background-color: #ffffff !important;
    border: 2px solid;
    border-color: var(--bevel-dark) var(--bevel-light) var(--bevel-light) var(--bevel-dark);
    border-radius: 0;
    padding: 0.8em 1em;
    position: relative;
    overflow-x: auto;
    margin-top: 0;
}

/* title bar on code blocks */
.content pre::before {
    content: ' Terminal';
    display: block;
    background: linear-gradient(90deg, var(--irc-navy), #1040a0);
    color: #ffffff;
    font-size: 0.75em;
    font-weight: 700;
    letter-spacing: 0.04em;
    padding: 0.2em 0.6em;
    margin: -0.8em -1em 0.6em -1em;
    border-bottom: 1px solid var(--bevel-dark);
}

.content pre > code {
    color: var(--irc-text);
    background: none;
    border: none;
    padding: 0;
    font-size: 0.92em;
}

/* ═══════════════════════════════════════════════════════════
 *  BLOCKQUOTES
 * ═══════════════════════════════════════════════════════════ */
.content blockquote {
    border-left: 3px solid var(--irc-green);
    background-color: var(--irc-bg-alt);
    color: var(--irc-text-dim);
    padding: 0.6em 1em;
    margin: 1em 0;
}

/* ═══════════════════════════════════════════════════════════
 *  TABLES — Win95 grid with header bar
 * ═══════════════════════════════════════════════════════════ */
.content table {
    border-collapse: collapse;
    width: 100%;
    margin: 1em 0;
    border: 2px solid;
    border-color: var(--bevel-dark) var(--bevel-light) var(--bevel-light) var(--bevel-dark);
}

.content table th {
    color: #ffffff;
    background: linear-gradient(90deg, var(--irc-navy), #1040a0);
    border: 1px solid var(--bevel-dark);
    padding: 0.4em 0.8em;
    text-align: left;
    text-transform: uppercase;
    font-size: 0.8em;
    font-weight: 700;
    letter-spacing: 0.06em;
}

.content table td {
    border: 1px solid var(--border-mid);
    padding: 0.4em 0.8em;
    font-size: 0.93em;
}

.content table tr:nth-child(even) {
    background-color: #e8e8e8;
}

.content table tr:hover {
    background-color: #d0d8ff;
}

/* ═══════════════════════════════════════════════════════════
 *  LISTS
 * ═══════════════════════════════════════════════════════════ */
.content li {
    margin-bottom: 0.15em;
}

.content li > input[type="checkbox"] {
    accent-color: var(--irc-green);
}

/* ═══════════════════════════════════════════════════════════
 *  HORIZONTAL RULES
 * ═══════════════════════════════════════════════════════════ */
.content hr {
    border: none;
    height: 2px;
    border-top: 1px solid var(--bevel-dark);
    border-bottom: 1px solid var(--bevel-light);
    margin: 1.5em 0;
}

/* ═══════════════════════════════════════════════════════════
 *  STRONG / EMPHASIS
 * ═══════════════════════════════════════════════════════════ */
.content strong {
    color: var(--irc-text);
    font-weight: 700;
}

/* ═══════════════════════════════════════════════════════════
 *  SEARCH
 * ═══════════════════════════════════════════════════════════ */
#searchbar {
    background-color: #ffffff !important;
    border: 2px solid !important;
    border-color: var(--bevel-dark) var(--bevel-light) var(--bevel-light) var(--bevel-dark) !important;
    color: var(--irc-text) !important;
    font-family: 'IBM Plex Mono', monospace !important;
}

#searchbar:focus {
    border-color: var(--irc-blue) !important;
    box-shadow: none;
    outline: 1px dotted var(--irc-navy);
    outline-offset: 1px;
}

#searchresults a {
    color: var(--link-blue);
}

#searchresults .teaser {
    color: var(--irc-text-dim);
}

/* ═══════════════════════════════════════════════════════════
 *  NAVIGATION ARROWS
 * ═══════════════════════════════════════════════════════════ */
.nav-chapters {
    color: var(--irc-text-dim);
    transition: color 0.1s ease;
}

.nav-chapters:hover {
    color: var(--irc-blue);
}

/* ═══════════════════════════════════════════════════════════
 *  HELP POPUP
 * ═══════════════════════════════════════════════════════════ */
#mdbook-help-popup {
    background-color: var(--irc-bg) !important;
    border: 2px solid;
    border-color: var(--bevel-light) var(--bevel-dark) var(--bevel-dark) var(--bevel-light) !important;
}

#mdbook-help-popup h2 {
    color: var(--irc-navy);
}

#mdbook-help-popup kbd {
    background-color: var(--irc-panel-bg);
    border: 2px solid;
    border-color: var(--bevel-light) var(--bevel-dark) var(--bevel-dark) var(--bevel-light);
    color: var(--irc-text);
    font-family: 'IBM Plex Mono', monospace;
    border-radius: 2px;
    padding: 0.1em 0.4em;
}

/* ═══════════════════════════════════════════════════════════
 *  WARNINGS / ADMONITIONS
 * ═══════════════════════════════════════════════════════════ */
.content .warning {
    border-left-color: var(--irc-red);
    background-color: #ffeeee;
}

/* ═══════════════════════════════════════════════════════════
 *  SELECTION
 * ═══════════════════════════════════════════════════════════ */
::selection {
    background-color: var(--irc-blue);
    color: #ffffff;
}

/* ═══════════════════════════════════════════════════════════
 *  SCROLLBAR
 * ═══════════════════════════════════════════════════════════ */
::-webkit-scrollbar {
    width: 16px;
    height: 16px;
}

::-webkit-scrollbar-track {
    background: var(--irc-bg-alt);
    border: 1px solid var(--border-mid);
}

::-webkit-scrollbar-thumb {
    background: var(--irc-panel-bg);
    border: 2px solid;
    border-color: var(--bevel-light) var(--bevel-dark) var(--bevel-dark) var(--bevel-light);
}

::-webkit-scrollbar-thumb:hover {
    background: #b8b8b8;
}

::-webkit-scrollbar-button {
    display: block;
    height: 16px;
    width: 16px;
    background: var(--irc-panel-bg);
    border: 2px solid;
    border-color: var(--bevel-light) var(--bevel-dark) var(--bevel-dark) var(--bevel-light);
}

/* ═══════════════════════════════════════════════════════════
 *  FOOTER / STATUS BAR FEEL
 * ═══════════════════════════════════════════════════════════ */

/* bottom of the content area — subtle status-bar border */
#mdbook-content.content main {
    border-bottom: 2px solid;
    border-bottom-color: var(--bevel-dark);
    padding-bottom: 2em;
    margin-bottom: 1em;
}

/* ═══════════════════════════════════════════════════════════
 *  RESPONSIVE
 * ═══════════════════════════════════════════════════════════ */
@media (max-width: 768px) {
    body {
        font-size: 13px;
    }

    .content h1 {
        font-size: 1.3em;
    }

    .content h2 {
        font-size: 1.05em;
    }

    /* simpler code blocks on mobile */
    .content pre::before {
        font-size: 0.7em;
        padding: 0.15em 0.5em;
    }
}

/* ═══════════════════════════════════════════════════════════
 *  PRINT — strip decorative elements
 * ═══════════════════════════════════════════════════════════ */
@media print {
    .content pre::before {
        display: none !important;
    }
}
